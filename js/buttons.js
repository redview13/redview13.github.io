"use strict";!function(){var e=!1,l=!1,m="",t=document.querySelector(".form__input"),f=document.querySelector(".button--mail__label");document.querySelector(".form_validation"),document.querySelector(".input_empty");if(t){t.addEventListener("keyup",function(){this.value!==m&&(document.querySelector(".form_validation.input_empty").classList.add("hidden"),document.querySelector(".form_validation:not(.input_empty)").classList.add("hidden"),document.querySelector(".form").classList.remove("form_error"))},!1),t.addEventListener("blur",function(){0===t.value.length||f.classList.contains("unfocused")||f.classList.add("unfocused")},!1),document.querySelector(".button").addEventListener("click",function(){e||(document.querySelector(".form").classList.remove("hidden"),this.classList.remove("button_1step"),document.querySelector(".button").style.backgroundColor="transparent",document.querySelector(".submit__icon").classList.add("submit-animate"),e=!0)},!1),document.querySelector(".form_after.error").addEventListener("click",function(e){e.preventDefault(),this.classList.contains("hidden")||(this.classList.add("hidden"),document.querySelector(".form").classList.remove("hidden"))},!1),document.querySelector(".form__submit").addEventListener("click",function(e){if(e.preventDefault(),l)return;var t=document.querySelector(".form__input").value,s=document.querySelector(".form_validation.input_empty"),r=document.querySelector(".form_validation:not(.input_empty)"),d=document.querySelector(".button"),o=document.querySelector(".form"),n=document.querySelector(".form_after.success.has_alredy"),i=document.querySelector(".form_after.success:not(.has_alredy)"),a=document.querySelector(".form_after.error"),c=document.querySelector(".form__submit_loader");if(o.classList.remove("form_error"),s.classList.add("hidden"),r.classList.add("hidden"),i.classList.add("hidden"),a.classList.add("hidden"),n.classList.add("hidden"),""===t)s.classList.remove("hidden"),f.style.display="none",m=t,helpers.setAndDeleteClass(o,"form_error");else if(function(e){return/^([a-zA-Z0-9_.+-])+@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(e)}(t)){l=!0,c.classList.remove("hidden");var u=new XMLHttpRequest;u.open("POST","/sender.php",!0),u.onreadystatechange=function(){if(4!==u.readyState||200!==u.status)return o.classList.add("hidden"),a.classList.remove("hidden"),d.classList.add("after"),c.classList.add("hidden"),void(l=!1);res=res||{},o.classList.add("hidden"),c.classList.add("hidden"),d.classList.add("after"),res.isExist?n.classList.remove("hidden"):i.classList.remove("hidden"),l=!1},u.send("email="+t)}else r.classList.remove("hidden"),f.style.display="none",m=t,y(o,"form_error")},!1);var y=function(e,t,s){s=s||500,e.classList.add(t),setTimeout(function(e,t){e.classList.remove(t)},s,e,t)}}}();